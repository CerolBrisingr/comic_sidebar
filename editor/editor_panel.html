<!doctype html>
<html lang="en">
    <head>
        <link rel="stylesheet" href="../sidebar/sidebar_panel.css">
        <link rel="stylesheet" href="../shared/hints.css">
        <link rel="stylesheet" href="editor_panel.css">
        <meta charset="utf-8">
        <script type="module" src="../scripts/editor/editor_panel.js"></script>
    </head>
<body>
    <label class="div_label" for="reader_setup">
        <img class="field_type_icon" src="../icons/edit.svg"/>
        Reader Setup
    </label>
    <div id="reader_setup" class="config_container">
        <label for="label_box"><b>Label your reader:</b></label>
        <br />
        <img class="field_type_icon" src="../icons/edit.svg"/>
        <input class="label_box" 
            type="search" 
            id="label_box" 
            placeholder="some.comic">
        <br />
        <div class="divider"></div>
        <label for="prefix_line"><b>Select the address that all pages share:</b></label>
        <div id="prefix_hint" class="hint">
            <b>This mask is used to match a page you visit with the reader you are about to create.</b>
            <div class="hint_grid">
                <div class="hint_images">
                    <img src="../icons/information.svg"/>
                </div>
                <div class="hint_explain">
                    Try to use as much of the link as you can but avoid chapter names or parts of the page name.
                </div>

                <div class="hint_images">
                    <img src="../icons/information.svg"/>
                </div>
                <div class="hint_explain">
                    You can drag & drop the edge of your mask using your mouse.
                </div>

                <div class="hint_images">
                    <img src="../icons/information.svg"/>
                </div>
                <div class="hint_explain">
                    Once you clicked on this, you can also use the left and right keyboard buttons.
                </div>
            </div>
            <button class="hint_dismiss" id="prefix_hint_dismiss">Dismiss Hint</button>
        </div>
        <div class="spans" id="prefix_line" tabindex="0">
            <img class="field_type_icon" src="../icons/edit.svg"/>
            &nbsp;
            <div>
                <span class="prefix_main" id="prefix_main">https://some.comic/comics</span><span class="prefix_edge" id="prefix_edge">/</span><span class="prefix_trail" id="prefix_trail">4192</span>
            </div>
        </div>
        <div class="divider"></div>
        <label for="prefix_showcase"><b>This reader will track all pages with addresses that start like:</b></label>
        <div class="spans" id="prefix_showcase">
            <img class="field_type_icon" src="../icons/information.svg"/>
            &nbsp;
            <div>
                <span class="prefix_output" id="prefix_output">https://some.comic/comics/</span><span class="append_stars">***</span>
            </div>
        </div>
    </div>
    <label class="div_label" for="preview_container">
        <img class="field_type_icon" src="../icons/information.svg"/>
        Reader Preview
    </label>
    <div class="config_container">
        <div id="preview_container"></div>
        <div id="preview_hint" class="hint">
            <b>This is what the entry in the sidebar will look like. Some elements only show up once you hover over their line.</b>
            <div class="hint_grid">
                <div class="hint_images">
                    <img src="../icons/settings.svg"/>
                </div>
                <div class="hint_explain">
                    Come back to this editor.
                </div>

                <div class="hint_images">
                    <img src="../icons/bookmark.svg"/>
                </div>
                <div class="hint_explain">
                    This is an automatic bookmark. You will have up to 4 of them. <br />
                    Each time you visit a matching page, those bookmarks will update.
                </div>

                <div class="hint_images">
                    <img src="../icons/pin_fill.svg"/>
                </div>
                <div class="hint_explain">
                    You can add automantc bookmarks to your manual bookmark list. <br />
                    Manual bookmarks will no longer be added to the automatic list and can therefore be used as blockers.
                </div>

                <div class="hint_images">
                    <img src="../icons/bookmark-fill.svg"/>
                </div>
                <div class="hint_explain">
                    This is a manual bookmark. You can have as many as you like.
                </div>

                <div class="hint_images">
                    <img src="../icons/pin_slash.svg"/>
                </div>
                <div class="hint_explain">
                    Click this to remove a manual bookmark from the list.
                </div>

                <div class="hint_images">
                    <img src="../icons/edit.svg"/>
                </div>
                <div class="hint_explain">
                    Manual bookmarks can have custom labels. Click here to start editing one.
                </div>
                
                <div class="hint_images">
                    <img src="../icons/edit_squiggle.svg"/>
                </div>
                <div class="hint_explain">
                    You are editing a bookmark. Hit enter or click this to confirm your choice. <br />
                    You can press escape to cancel editing.<br />
                    Leave the label empty to go back to the generic label.
                </div>
            </div>
            <button class="hint_dismiss" id="preview_hint_dismiss">Dismiss Hint</button>
        </div>
    </div>
    <label class="div_label" for="schedule_container">
        <img class="field_type_icon" src="../icons/edit.svg"/>
        Display Schedule
    </label>
    <div id="schedule_container" class="config_container">
        <div id="schedule_hint" class="hint">
            <b>Reduce clutter on your list and hide this entry after you visited one or more of its pages.</b> <br />
            <div class="hint_grid">
                <div class="hint_images">
                    <img src="../icons/information.svg"/>
                </div>
                <div class="hint_explain">
                    Keep setting at "Always show" to have it listed all the time.
                </div>

                <div class="hint_images">
                    <img src="../icons/information.svg"/>
                </div>
                <div class="hint_explain">
                    Use the following options to see it again once you expect news or simply want to revisit.
                </div>

                <div class="hint_images">
                    <img src="../icons/information.svg"/>
                </div>
                <div class="hint_explain">
                    The "hiatus" option will return to your previous setting once the break is over.
                </div>
            </div>
            <button class="hint_dismiss" id="schedule_hint_dismiss">Dismiss Hint</button>
        </div>
        <div>
            <input type="checkbox" id="always"/>
            <label for="always">Always show reader entry</label>
            <div id="always_frame" class="schedule_option no_draw">
                <img class="field_type_icon" src="../icons/information.svg"/>
                This title will always be visible on the sidebar.
            </div>
        </div>
        <div>
            <input type="checkbox" id="duration"/>
            <label for="duration">Hide for some time</label>
            <div id="duration_frame" class="schedule_option no_draw">
                <img class="field_type_icon" src="../icons/edit.svg"/>
                Hide for 
                <input type="number" id="duration_number" placeholder="1" step="1" min="1"/>
                <select id="duration_unit">
                    <option value="hours">hours</option>
                    <option value="days">days</option>
                    <option value="weeks">weeks</option>
                    <option value="months">months</option>
                </select>
            </div>
        </div>
        <div>
            <input type="checkbox" id="weekly"/>
            <label for="weekly">Show again on weekdays</label>
            <div id="weekly_frame" class="schedule_option no_draw">
                <label for="week_days">Bring back to sidebar on (click to toggle):</label>
                <div id="week_days" class="week_line">
                    <img class="field_type_icon" src="../icons/edit.svg"/>
                    <span id="week_mo" class="week_day">Mo</span>
                    <span id="week_tu" class="week_day">Tu</span>
                    <span id="week_we" class="week_day">We</span>
                    <span id="week_th" class="week_day">Th</span>
                    <span id="week_fr" class="week_day">Fr</span>
                    <span id="week_sa" class="week_day">Sa</span>
                    <span id="week_su" class="week_day">So</span>
                </div>
            </div>
        </div>
        <div>
            <input type="checkbox" id="monthly"/>
            <label for="monthly">Show again on days of the month</label>
            <div id="monthly_frame" class="schedule_option no_draw">
                <label for="month_days">Enter list of days:</label>
                <br/>
                <img class="field_type_icon" src="../icons/edit.svg"/>
                <input type="text" id="month_days" placeholder="e.g. '1, 10'">
            </div>
        </div>
        <div>
            <input type="checkbox" id="hiatus"/>
            <label for="hiatus">One-time break (hiatus):</label>
            <div id="hiatus_frame" class="schedule_option no_draw">
                <img class="field_type_icon" src="../icons/edit.svg"/>
                <input type="number" id="hiatus_duration" min="1"> days
                <br/>
                <img class="field_type_icon" src="../icons/edit.svg"/>
                Ends on
                <input type="date" id="hiatus_target">
            </div>
        </div>
    </div>
    <button id="cancel">Cancel</button>
    <button id="finalize">Finalize</button>
    <button id="start_delete" style="float: right">Delete</button>
    <button id="confirm_delete" style="float: right">Yes</button>
</body>